{"id":"node_modules/@sentry/browser/build/npm/esm/profiling/startProfileForSpan.js","dependencies":[{"name":"F:\\urban\\Все работы\\module 9\\node_modules\\@sentry\\browser\\build\\npm\\esm\\profiling\\startProfileForSpan.js.map","includedInParent":true,"mtime":1723907471312},{"name":"F:\\urban\\Все работы\\module 9\\package.json","includedInParent":true,"mtime":1723907516383},{"name":"F:\\urban\\Все работы\\module 9\\node_modules\\@sentry\\browser\\build\\npm\\esm\\package.json","includedInParent":true,"mtime":1723907470742},{"name":"@sentry/core","loc":{"line":1,"column":44,"index":44},"parent":"F:\\urban\\Все работы\\module 9\\node_modules\\@sentry\\browser\\build\\npm\\esm\\profiling\\startProfileForSpan.js","resolved":"F:\\urban\\Все работы\\module 9\\node_modules\\@sentry\\core\\build\\esm\\index.js"},{"name":"@sentry/utils","loc":{"line":2,"column":50,"index":110},"parent":"F:\\urban\\Все работы\\module 9\\node_modules\\@sentry\\browser\\build\\npm\\esm\\profiling\\startProfileForSpan.js","resolved":"F:\\urban\\Все работы\\module 9\\node_modules\\@sentry\\utils\\build\\esm\\index.js"},{"name":"../debug-build.js","loc":{"line":3,"column":28,"index":155},"parent":"F:\\urban\\Все работы\\module 9\\node_modules\\@sentry\\browser\\build\\npm\\esm\\profiling\\startProfileForSpan.js","resolved":"F:\\urban\\Все работы\\module 9\\node_modules\\@sentry\\browser\\build\\npm\\esm\\debug-build.js"},{"name":"../helpers.js","loc":{"line":4,"column":23,"index":199},"parent":"F:\\urban\\Все работы\\module 9\\node_modules\\@sentry\\browser\\build\\npm\\esm\\profiling\\startProfileForSpan.js","resolved":"F:\\urban\\Все работы\\module 9\\node_modules\\@sentry\\browser\\build\\npm\\esm\\helpers.js"},{"name":"./utils.js","loc":{"line":5,"column":110,"index":326},"parent":"F:\\urban\\Все работы\\module 9\\node_modules\\@sentry\\browser\\build\\npm\\esm\\profiling\\startProfileForSpan.js","resolved":"F:\\urban\\Все работы\\module 9\\node_modules\\@sentry\\browser\\build\\npm\\esm\\profiling\\utils.js"}],"generated":{"js":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.startProfileForSpan = startProfileForSpan;\nvar _core = require(\"@sentry/core\");\nvar _utils = require(\"@sentry/utils\");\nvar _debugBuild = require(\"../debug-build.js\");\nvar _helpers = require(\"../helpers.js\");\nvar _utils2 = require(\"./utils.js\");\n/**\n * Wraps startTransaction and stopTransaction with profiling related logic.\n * startProfileForTransaction is called after the call to startTransaction in order to avoid our own code from\n * being profiled. Because of that same reason, stopProfiling is called before the call to stopTransaction.\n */\nfunction startProfileForSpan(span) {\n  // Start the profiler and get the profiler instance.\n  let startTimestamp;\n  if ((0, _utils2.isAutomatedPageLoadSpan)(span)) {\n    startTimestamp = (0, _utils.timestampInSeconds)() * 1000;\n  }\n  const profiler = (0, _utils2.startJSSelfProfile)();\n\n  // We failed to construct the profiler, so we skip.\n  // No need to log anything as this has already been logged in startProfile.\n  if (!profiler) {\n    return;\n  }\n  if (_debugBuild.DEBUG_BUILD) {\n    _utils.logger.log(`[Profiling] started profiling span: ${(0, _core.spanToJSON)(span).description}`);\n  }\n\n  // We create \"unique\" span names to avoid concurrent spans with same names\n  // from being ignored by the profiler. From here on, only this span name should be used when\n  // calling the profiler methods. Note: we log the original name to the user to avoid confusion.\n  const profileId = (0, _utils.uuid4)();\n  (0, _core.getCurrentScope)().setContext('profile', {\n    profile_id: profileId,\n    start_timestamp: startTimestamp\n  });\n\n  /**\n   * Idempotent handler for profile stop\n   */\n  async function onProfileHandler() {\n    // Check if the profile exists and return it the behavior has to be idempotent as users may call span.finish multiple times.\n    if (!span) {\n      return;\n    }\n    // Satisfy the type checker, but profiler will always be defined here.\n    if (!profiler) {\n      return;\n    }\n    return profiler.stop().then(profile => {\n      if (maxDurationTimeoutID) {\n        _helpers.WINDOW.clearTimeout(maxDurationTimeoutID);\n        maxDurationTimeoutID = undefined;\n      }\n      if (_debugBuild.DEBUG_BUILD) {\n        _utils.logger.log(`[Profiling] stopped profiling of span: ${(0, _core.spanToJSON)(span).description}`);\n      }\n\n      // In case of an overlapping span, stopProfiling may return null and silently ignore the overlapping profile.\n      if (!profile) {\n        if (_debugBuild.DEBUG_BUILD) {\n          _utils.logger.log(`[Profiling] profiler returned null profile for: ${(0, _core.spanToJSON)(span).description}`, 'this may indicate an overlapping span or a call to stopProfiling with a profile title that was never started');\n        }\n        return;\n      }\n      (0, _utils2.addProfileToGlobalCache)(profileId, profile);\n    }).catch(error => {\n      if (_debugBuild.DEBUG_BUILD) {\n        _utils.logger.log('[Profiling] error while stopping profiler:', error);\n      }\n    });\n  }\n\n  // Enqueue a timeout to prevent profiles from running over max duration.\n  let maxDurationTimeoutID = _helpers.WINDOW.setTimeout(() => {\n    if (_debugBuild.DEBUG_BUILD) {\n      _utils.logger.log('[Profiling] max profile duration elapsed, stopping profiling for:', (0, _core.spanToJSON)(span).description);\n    }\n    // If the timeout exceeds, we want to stop profiling, but not finish the span\n    // eslint-disable-next-line @typescript-eslint/no-floating-promises\n    onProfileHandler();\n  }, _utils2.MAX_PROFILE_DURATION_MS);\n\n  // We need to reference the original end call to avoid creating an infinite loop\n  const originalEnd = span.end.bind(span);\n\n  /**\n   * Wraps span `end()` with profiling related logic.\n   * startProfiling is called after the call to spanStart in order to avoid our own code from\n   * being profiled. Because of that same reason, stopProfiling is called before the call to spanEnd.\n   */\n  function profilingWrappedSpanEnd() {\n    if (!span) {\n      return originalEnd();\n    }\n    // onProfileHandler should always return the same profile even if this is called multiple times.\n    // Always call onProfileHandler to ensure stopProfiling is called and the timeout is cleared.\n    void onProfileHandler().then(() => {\n      originalEnd();\n    }, () => {\n      // If onProfileHandler fails, we still want to call the original finish method.\n      originalEnd();\n    });\n    return span;\n  }\n  span.end = profilingWrappedSpanEnd;\n}"},"sourceMaps":{"js":{"mappings":[{"source":"../../../../src/profiling/startProfileForSpan.ts","name":null,"original":{"line":10,"column":0},"generated":{"line":12,"column":0}},{"source":"../../../../src/profiling/startProfileForSpan.ts","name":null,"original":{"line":11,"column":0},"generated":{"line":13,"column":0}},{"source":"../../../../src/profiling/startProfileForSpan.ts","name":null,"original":{"line":12,"column":0},"generated":{"line":14,"column":0}},{"source":"../../../../src/profiling/startProfileForSpan.ts","name":null,"original":{"line":13,"column":0},"generated":{"line":15,"column":0}},{"source":"../../../../src/profiling/startProfileForSpan.ts","name":null,"original":{"line":14,"column":0},"generated":{"line":16,"column":0}},{"source":"../../../../src/profiling/startProfileForSpan.ts","name":null,"original":{"line":15,"column":7},"generated":{"line":17,"column":0}},{"source":"../../../../src/profiling/startProfileForSpan.ts","name":null,"original":{"line":15,"column":16},"generated":{"line":17,"column":9}},{"source":"../../../../src/profiling/startProfileForSpan.ts","name":null,"original":{"line":15,"column":35},"generated":{"line":17,"column":28}},{"source":"../../../../src/profiling/startProfileForSpan.ts","name":null,"original":{"line":15,"column":36},"generated":{"line":17,"column":29}},{"source":"../../../../src/profiling/startProfileForSpan.ts","name":null,"original":{"line":15,"column":40},"generated":{"line":17,"column":33}},{"source":"../../../../src/profiling/startProfileForSpan.ts","name":null,"original":{"line":15,"column":54},"generated":{"line":17,"column":35}},{"source":"../../../../src/profiling/startProfileForSpan.ts","name":null,"original":{"line":16,"column":0},"generated":{"line":18,"column":2}},{"source":"../../../../src/profiling/startProfileForSpan.ts","name":null,"original":{"line":17,"column":2},"generated":{"line":19,"column":2}},{"source":"../../../../src/profiling/startProfileForSpan.ts","name":null,"original":{"line":17,"column":6},"generated":{"line":19,"column":6}},{"source":"../../../../src/profiling/startProfileForSpan.ts","name":null,"original":{"line":17,"column":20},"generated":{"line":19,"column":20}},{"source":"../../../../src/profiling/startProfileForSpan.ts","name":null,"original":{"line":18,"column":2},"generated":{"line":20,"column":2}},{"source":"../../../../src/profiling/startProfileForSpan.ts","name":null,"original":{"line":18,"column":6},"generated":{"line":20,"column":6}},{"source":"../../../../src/profiling/startProfileForSpan.ts","name":null,"original":{"line":18,"column":6},"generated":{"line":20,"column":10}},{"source":"../../../../src/profiling/startProfileForSpan.ts","name":null,"original":{"line":18,"column":29},"generated":{"line":20,"column":41}},{"source":"../../../../src/profiling/startProfileForSpan.ts","name":null,"original":{"line":18,"column":30},"generated":{"line":20,"column":43}},{"source":"../../../../src/profiling/startProfileForSpan.ts","name":null,"original":{"line":18,"column":34},"generated":{"line":20,"column":47}},{"source":"../../../../src/profiling/startProfileForSpan.ts","name":null,"original":{"line":18,"column":35},"generated":{"line":20,"column":48}},{"source":"../../../../src/profiling/startProfileForSpan.ts","name":null,"original":{"line":18,"column":37},"generated":{"line":20,"column":50}},{"source":"../../../../src/profiling/startProfileForSpan.ts","name":null,"original":{"line":19,"column":4},"generated":{"line":21,"column":4}},{"source":"../../../../src/profiling/startProfileForSpan.ts","name":null,"original":{"line":19,"column":4},"generated":{"line":21,"column":18}},{"source":"../../../../src/profiling/startProfileForSpan.ts","name":null,"original":{"line":19,"column":21},"generated":{"line":21,"column":21}},{"source":"../../../../src/profiling/startProfileForSpan.ts","name":null,"original":{"line":19,"column":21},"generated":{"line":21,"column":25}},{"source":"../../../../src/profiling/startProfileForSpan.ts","name":null,"original":{"line":19,"column":39},"generated":{"line":21,"column":50}},{"source":"../../../../src/profiling/startProfileForSpan.ts","name":null,"original":{"line":19,"column":39},"generated":{"line":21,"column":52}},{"source":"../../../../src/profiling/startProfileForSpan.ts","name":null,"original":{"line":19,"column":40},"generated":{"line":21,"column":53}},{"source":"../../../../src/profiling/startProfileForSpan.ts","name":null,"original":{"line":19,"column":44},"generated":{"line":21,"column":56}},{"source":"../../../../src/profiling/startProfileForSpan.ts","name":null,"original":{"line":19,"column":48},"generated":{"line":21,"column":60}},{"source":"../../../../src/profiling/startProfileForSpan.ts","name":null,"original":{"line":20,"column":0},"generated":{"line":22,"column":2}},{"source":"../../../../src/profiling/startProfileForSpan.ts","name":null,"original":{"line":22,"column":2},"generated":{"line":23,"column":2}},{"source":"../../../../src/profiling/startProfileForSpan.ts","name":null,"original":{"line":22,"column":8},"generated":{"line":23,"column":8}},{"source":"../../../../src/profiling/startProfileForSpan.ts","name":null,"original":{"line":22,"column":8},"generated":{"line":23,"column":16}},{"source":"../../../../src/profiling/startProfileForSpan.ts","name":null,"original":{"line":22,"column":19},"generated":{"line":23,"column":19}},{"source":"../../../../src/profiling/startProfileForSpan.ts","name":null,"original":{"line":22,"column":19},"generated":{"line":23,"column":23}},{"source":"../../../../src/profiling/startProfileForSpan.ts","name":null,"original":{"line":22,"column":37},"generated":{"line":23,"column":49}},{"source":"../../../../src/profiling/startProfileForSpan.ts","name":null,"original":{"line":22,"column":37},"generated":{"line":23,"column":51}},{"source":"../../../../src/profiling/startProfileForSpan.ts","name":null,"original":{"line":22,"column":39},"generated":{"line":23,"column":52}},{"source":"../../../../src/profiling/startProfileForSpan.ts","name":null,"original":{"line":24,"column":0},"generated":{"line":25,"column":2}},{"source":"../../../../src/profiling/startProfileForSpan.ts","name":null,"original":{"line":25,"column":0},"generated":{"line":26,"column":2}},{"source":"../../../../src/profiling/startProfileForSpan.ts","name":null,"original":{"line":26,"column":2},"generated":{"line":27,"column":2}},{"source":"../../../../src/profiling/startProfileForSpan.ts","name":null,"original":{"line":26,"column":6},"generated":{"line":27,"column":6}},{"source":"../../../../src/profiling/startProfileForSpan.ts","name":null,"original":{"line":26,"column":7},"generated":{"line":27,"column":7}},{"source":"../../../../src/profiling/startProfileForSpan.ts","name":null,"original":{"line":26,"column":15},"generated":{"line":27,"column":15}},{"source":"../../../../src/profiling/startProfileForSpan.ts","name":null,"original":{"line":26,"column":17},"generated":{"line":27,"column":17}},{"source":"../../../../src/profiling/startProfileForSpan.ts","name":null,"original":{"line":27,"column":4},"generated":{"line":28,"column":4}},{"source":"../../../../src/profiling/startProfileForSpan.ts","name":null,"original":{"line":28,"column":0},"generated":{"line":29,"column":2}},{"source":"../../../../src/profiling/startProfileForSpan.ts","name":null,"original":{"line":30,"column":2},"generated":{"line":30,"column":2}},{"source":"../../../../src/profiling/startProfileForSpan.ts","name":null,"original":{"line":30,"column":6},"generated":{"line":30,"column":6}},{"source":"../../../../src/profiling/startProfileForSpan.ts","name":null,"original":{"line":30,"column":17},"generated":{"line":30,"column":29}},{"source":"../../../../src/profiling/startProfileForSpan.ts","name":null,"original":{"line":30,"column":19},"generated":{"line":30,"column":31}},{"source":"../../../../src/profiling/startProfileForSpan.ts","name":null,"original":{"line":31,"column":4},"generated":{"line":31,"column":4}},{"source":"../../../../src/profiling/startProfileForSpan.ts","name":null,"original":{"line":31,"column":10},"generated":{"line":31,"column":17}},{"source":"../../../../src/profiling/startProfileForSpan.ts","name":null,"original":{"line":31,"column":11},"generated":{"line":31,"column":18}},{"source":"../../../../src/profiling/startProfileForSpan.ts","name":null,"original":{"line":31,"column":14},"generated":{"line":31,"column":21}},{"source":"../../../../src/profiling/startProfileForSpan.ts","name":null,"original":{"line":31,"column":15},"generated":{"line":31,"column":22}},{"source":"../../../../src/profiling/startProfileForSpan.ts","name":null,"original":{"line":31,"column":54},"generated":{"line":31,"column":61}},{"source":"../../../../src/profiling/startProfileForSpan.ts","name":null,"original":{"line":31,"column":54},"generated":{"line":31,"column":65}},{"source":"../../../../src/profiling/startProfileForSpan.ts","name":null,"original":{"line":31,"column":64},"generated":{"line":31,"column":81}},{"source":"../../../../src/profiling/startProfileForSpan.ts","name":null,"original":{"line":31,"column":65},"generated":{"line":31,"column":83}},{"source":"../../../../src/profiling/startProfileForSpan.ts","name":null,"original":{"line":31,"column":69},"generated":{"line":31,"column":87}},{"source":"../../../../src/profiling/startProfileForSpan.ts","name":null,"original":{"line":31,"column":70},"generated":{"line":31,"column":88}},{"source":"../../../../src/profiling/startProfileForSpan.ts","name":null,"original":{"line":31,"column":71},"generated":{"line":31,"column":89}},{"source":"../../../../src/profiling/startProfileForSpan.ts","name":null,"original":{"line":31,"column":82},"generated":{"line":31,"column":100}},{"source":"../../../../src/profiling/startProfileForSpan.ts","name":null,"original":{"line":31,"column":83},"generated":{"line":31,"column":102}},{"source":"../../../../src/profiling/startProfileForSpan.ts","name":null,"original":{"line":31,"column":83},"generated":{"line":31,"column":103}},{"source":"../../../../src/profiling/startProfileForSpan.ts","name":null,"original":{"line":32,"column":83},"generated":{"line":32,"column":2}},{"source":"../../../../src/profiling/startProfileForSpan.ts","name":null,"original":{"line":34,"column":83},"generated":{"line":34,"column":2}},{"source":"../../../../src/profiling/startProfileForSpan.ts","name":null,"original":{"line":35,"column":83},"generated":{"line":35,"column":2}},{"source":"../../../../src/profiling/startProfileForSpan.ts","name":null,"original":{"line":36,"column":83},"generated":{"line":36,"column":2}},{"source":"../../../../src/profiling/startProfileForSpan.ts","name":null,"original":{"line":37,"column":83},"generated":{"line":37,"column":2}},{"source":"../../../../src/profiling/startProfileForSpan.ts","name":null,"original":{"line":37,"column":83},"generated":{"line":37,"column":8}},{"source":"../../../../src/profiling/startProfileForSpan.ts","name":null,"original":{"line":37,"column":83},"generated":{"line":37,"column":17}},{"source":"../../../../src/profiling/startProfileForSpan.ts","name":null,"original":{"line":37,"column":83},"generated":{"line":37,"column":20}},{"source":"../../../../src/profiling/startProfileForSpan.ts","name":null,"original":{"line":37,"column":83},"generated":{"line":37,"column":24}},{"source":"../../../../src/profiling/startProfileForSpan.ts","name":null,"original":{"line":37,"column":83},"generated":{"line":37,"column":36}},{"source":"../../../../src/profiling/startProfileForSpan.ts","name":null,"original":{"line":37,"column":83},"generated":{"line":37,"column":38}},{"source":"../../../../src/profiling/startProfileForSpan.ts","name":null,"original":{"line":37,"column":83},"generated":{"line":37,"column":39}},{"source":"../../../../src/profiling/startProfileForSpan.ts","name":null,"original":{"line":48,"column":83},"generated":{"line":38,"column":2}},{"source":"../../../../src/profiling/startProfileForSpan.ts","name":null,"original":{"line":48,"column":83},"generated":{"line":38,"column":6}},{"source":"../../../../src/profiling/startProfileForSpan.ts","name":null,"original":{"line":48,"column":83},"generated":{"line":38,"column":27}},{"source":"../../../../src/profiling/startProfileForSpan.ts","name":null,"original":{"line":48,"column":83},"generated":{"line":38,"column":29}},{"source":"../../../../src/profiling/startProfileForSpan.ts","name":null,"original":{"line":48,"column":83},"generated":{"line":38,"column":30}},{"source":"../../../../src/profiling/startProfileForSpan.ts","name":null,"original":{"line":48,"column":83},"generated":{"line":38,"column":31}},{"source":"../../../../src/profiling/startProfileForSpan.ts","name":null,"original":{"line":48,"column":83},"generated":{"line":38,"column":41}},{"source":"../../../../src/profiling/startProfileForSpan.ts","name":null,"original":{"line":48,"column":83},"generated":{"line":38,"column":42}},{"source":"../../../../src/profiling/startProfileForSpan.ts","name":null,"original":{"line":48,"column":83},"generated":{"line":38,"column":51}},{"source":"../../../../src/profiling/startProfileForSpan.ts","name":null,"original":{"line":48,"column":83},"generated":{"line":38,"column":53}},{"source":"../../../../src/profiling/startProfileForSpan.ts","name":null,"original":{"line":49,"column":83},"generated":{"line":39,"column":4}},{"source":"../../../../src/profiling/startProfileForSpan.ts","name":null,"original":{"line":49,"column":83},"generated":{"line":39,"column":14}},{"source":"../../../../src/profiling/startProfileForSpan.ts","name":null,"original":{"line":49,"column":83},"generated":{"line":39,"column":16}},{"source":"../../../../src/profiling/startProfileForSpan.ts","name":null,"original":{"line":49,"column":83},"generated":{"line":39,"column":25}},{"source":"../../../../src/profiling/startProfileForSpan.ts","name":null,"original":{"line":50,"column":83},"generated":{"line":40,"column":4}},{"source":"../../../../src/profiling/startProfileForSpan.ts","name":null,"original":{"line":50,"column":83},"generated":{"line":40,"column":19}},{"source":"../../../../src/profiling/startProfileForSpan.ts","name":null,"original":{"line":50,"column":83},"generated":{"line":40,"column":21}},{"source":"../../../../src/profiling/startProfileForSpan.ts","name":null,"original":{"line":51,"column":83},"generated":{"line":41,"column":2}},{"source":"../../../../src/profiling/startProfileForSpan.ts","name":null,"original":{"line":51,"column":83},"generated":{"line":41,"column":3}},{"source":"../../../../src/profiling/startProfileForSpan.ts","name":null,"original":{"line":51,"column":83},"generated":{"line":41,"column":4}},{"source":"../../../../src/profiling/startProfileForSpan.ts","name":null,"original":{"line":53,"column":83},"generated":{"line":43,"column":2}},{"source":"../../../../src/profiling/startProfileForSpan.ts","name":null,"original":{"line":54,"column":83},"generated":{"line":44,"column":0}},{"source":"../../../../src/profiling/startProfileForSpan.ts","name":null,"original":{"line":55,"column":83},"generated":{"line":45,"column":0}},{"source":"../../../../src/profiling/startProfileForSpan.ts","name":null,"original":{"line":56,"column":83},"generated":{"line":46,"column":2}},{"source":"../../../../src/profiling/startProfileForSpan.ts","name":null,"original":{"line":56,"column":83},"generated":{"line":46,"column":17}},{"source":"../../../../src/profiling/startProfileForSpan.ts","name":null,"original":{"line":56,"column":83},"generated":{"line":46,"column":33}},{"source":"../../../../src/profiling/startProfileForSpan.ts","name":null,"original":{"line":56,"column":83},"generated":{"line":46,"column":34}},{"source":"../../../../src/profiling/startProfileForSpan.ts","name":null,"original":{"line":56,"column":83},"generated":{"line":46,"column":36}},{"source":"../../../../src/profiling/startProfileForSpan.ts","name":null,"original":{"line":57,"column":83},"generated":{"line":47,"column":4}},{"source":"../../../../src/profiling/startProfileForSpan.ts","name":null,"original":{"line":58,"column":83},"generated":{"line":48,"column":4}},{"source":"../../../../src/profiling/startProfileForSpan.ts","name":null,"original":{"line":58,"column":83},"generated":{"line":48,"column":8}},{"source":"../../../../src/profiling/startProfileForSpan.ts","name":null,"original":{"line":58,"column":83},"generated":{"line":48,"column":9}},{"source":"../../../../src/profiling/startProfileForSpan.ts","name":null,"original":{"line":58,"column":83},"generated":{"line":48,"column":13}},{"source":"../../../../src/profiling/startProfileForSpan.ts","name":null,"original":{"line":58,"column":83},"generated":{"line":48,"column":15}},{"source":"../../../../src/profiling/startProfileForSpan.ts","name":null,"original":{"line":59,"column":83},"generated":{"line":49,"column":6}},{"source":"../../../../src/profiling/startProfileForSpan.ts","name":null,"original":{"line":60,"column":83},"generated":{"line":50,"column":4}},{"source":"../../../../src/profiling/startProfileForSpan.ts","name":null,"original":{"line":61,"column":83},"generated":{"line":51,"column":4}},{"source":"../../../../src/profiling/startProfileForSpan.ts","name":null,"original":{"line":62,"column":83},"generated":{"line":52,"column":4}},{"source":"../../../../src/profiling/startProfileForSpan.ts","name":null,"original":{"line":62,"column":83},"generated":{"line":52,"column":8}},{"source":"../../../../src/profiling/startProfileForSpan.ts","name":null,"original":{"line":62,"column":83},"generated":{"line":52,"column":9}},{"source":"../../../../src/profiling/startProfileForSpan.ts","name":null,"original":{"line":62,"column":83},"generated":{"line":52,"column":17}},{"source":"../../../../src/profiling/startProfileForSpan.ts","name":null,"original":{"line":62,"column":83},"generated":{"line":52,"column":19}},{"source":"../../../../src/profiling/startProfileForSpan.ts","name":null,"original":{"line":63,"column":83},"generated":{"line":53,"column":6}},{"source":"../../../../src/profiling/startProfileForSpan.ts","name":null,"original":{"line":64,"column":83},"generated":{"line":54,"column":4}},{"source":"../../../../src/profiling/startProfileForSpan.ts","name":null,"original":{"line":72,"column":83},"generated":{"line":55,"column":4}},{"source":"../../../../src/profiling/startProfileForSpan.ts","name":null,"original":{"line":72,"column":83},"generated":{"line":55,"column":11}},{"source":"../../../../src/profiling/startProfileForSpan.ts","name":null,"original":{"line":72,"column":83},"generated":{"line":55,"column":19}},{"source":"../../../../src/profiling/startProfileForSpan.ts","name":null,"original":{"line":73,"column":83},"generated":{"line":55,"column":20}},{"source":"../../../../src/profiling/startProfileForSpan.ts","name":null,"original":{"line":73,"column":83},"generated":{"line":55,"column":24}},{"source":"../../../../src/profiling/startProfileForSpan.ts","name":null,"original":{"line":73,"column":83},"generated":{"line":55,"column":25}},{"source":"../../../../src/profiling/startProfileForSpan.ts","name":null,"original":{"line":73,"column":83},"generated":{"line":55,"column":26}},{"source":"../../../../src/profiling/startProfileForSpan.ts","name":null,"original":{"line":74,"column":83},"generated":{"line":55,"column":27}},{"source":"../../../../src/profiling/startProfileForSpan.ts","name":null,"original":{"line":74,"column":83},"generated":{"line":55,"column":31}},{"source":"../../../../src/profiling/startProfileForSpan.ts","name":null,"original":{"line":74,"column":83},"generated":{"line":55,"column":32}},{"source":"../../../../src/profiling/startProfileForSpan.ts","name":null,"original":{"line":74,"column":83},"generated":{"line":55,"column":39}},{"source":"../../../../src/profiling/startProfileForSpan.ts","name":null,"original":{"line":74,"column":83},"generated":{"line":55,"column":43}},{"source":"../../../../src/profiling/startProfileForSpan.ts","name":null,"original":{"line":75,"column":83},"generated":{"line":56,"column":6}},{"source":"../../../../src/profiling/startProfileForSpan.ts","name":null,"original":{"line":75,"column":83},"generated":{"line":56,"column":10}},{"source":"../../../../src/profiling/startProfileForSpan.ts","name":null,"original":{"line":75,"column":83},"generated":{"line":56,"column":30}},{"source":"../../../../src/profiling/startProfileForSpan.ts","name":null,"original":{"line":75,"column":83},"generated":{"line":56,"column":32}},{"source":"../../../../src/profiling/startProfileForSpan.ts","name":null,"original":{"line":76,"column":83},"generated":{"line":57,"column":8}},{"source":"../../../../src/profiling/startProfileForSpan.ts","name":null,"original":{"line":76,"column":83},"generated":{"line":57,"column":23}},{"source":"../../../../src/profiling/startProfileForSpan.ts","name":null,"original":{"line":76,"column":83},"generated":{"line":57,"column":24}},{"source":"../../../../src/profiling/startProfileForSpan.ts","name":null,"original":{"line":76,"column":83},"generated":{"line":57,"column":36}},{"source":"../../../../src/profiling/startProfileForSpan.ts","name":null,"original":{"line":76,"column":83},"generated":{"line":57,"column":37}},{"source":"../../../../src/profiling/startProfileForSpan.ts","name":null,"original":{"line":76,"column":83},"generated":{"line":57,"column":57}},{"source":"../../../../src/profiling/startProfileForSpan.ts","name":null,"original":{"line":76,"column":83},"generated":{"line":57,"column":58}},{"source":"../../../../src/profiling/startProfileForSpan.ts","name":null,"original":{"line":77,"column":83},"generated":{"line":58,"column":8}},{"source":"../../../../src/profiling/startProfileForSpan.ts","name":null,"original":{"line":77,"column":83},"generated":{"line":58,"column":28}},{"source":"../../../../src/profiling/startProfileForSpan.ts","name":null,"original":{"line":77,"column":83},"generated":{"line":58,"column":31}},{"source":"../../../../src/profiling/startProfileForSpan.ts","name":null,"original":{"line":77,"column":83},"generated":{"line":58,"column":40}},{"source":"../../../../src/profiling/startProfileForSpan.ts","name":null,"original":{"line":78,"column":83},"generated":{"line":59,"column":6}},{"source":"../../../../src/profiling/startProfileForSpan.ts","name":null,"original":{"line":80,"column":83},"generated":{"line":60,"column":6}},{"source":"../../../../src/profiling/startProfileForSpan.ts","name":null,"original":{"line":80,"column":83},"generated":{"line":60,"column":10}},{"source":"../../../../src/profiling/startProfileForSpan.ts","name":null,"original":{"line":80,"column":83},"generated":{"line":60,"column":33}},{"source":"../../../../src/profiling/startProfileForSpan.ts","name":null,"original":{"line":80,"column":83},"generated":{"line":60,"column":35}},{"source":"../../../../src/profiling/startProfileForSpan.ts","name":null,"original":{"line":81,"column":83},"generated":{"line":61,"column":8}},{"source":"../../../../src/profiling/startProfileForSpan.ts","name":null,"original":{"line":81,"column":83},"generated":{"line":61,"column":21}},{"source":"../../../../src/profiling/startProfileForSpan.ts","name":null,"original":{"line":81,"column":83},"generated":{"line":61,"column":22}},{"source":"../../../../src/profiling/startProfileForSpan.ts","name":null,"original":{"line":81,"column":83},"generated":{"line":61,"column":25}},{"source":"../../../../src/profiling/startProfileForSpan.ts","name":null,"original":{"line":81,"column":83},"generated":{"line":61,"column":26}},{"source":"../../../../src/profiling/startProfileForSpan.ts","name":null,"original":{"line":81,"column":83},"generated":{"line":61,"column":68}},{"source":"../../../../src/profiling/startProfileForSpan.ts","name":null,"original":{"line":81,"column":83},"generated":{"line":61,"column":72}},{"source":"../../../../src/profiling/startProfileForSpan.ts","name":null,"original":{"line":81,"column":83},"generated":{"line":61,"column":88}},{"source":"../../../../src/profiling/startProfileForSpan.ts","name":null,"original":{"line":81,"column":83},"generated":{"line":61,"column":90}},{"source":"../../../../src/profiling/startProfileForSpan.ts","name":null,"original":{"line":81,"column":83},"generated":{"line":61,"column":94}},{"source":"../../../../src/profiling/startProfileForSpan.ts","name":null,"original":{"line":81,"column":83},"generated":{"line":61,"column":95}},{"source":"../../../../src/profiling/startProfileForSpan.ts","name":null,"original":{"line":81,"column":83},"generated":{"line":61,"column":96}},{"source":"../../../../src/profiling/startProfileForSpan.ts","name":null,"original":{"line":81,"column":83},"generated":{"line":61,"column":107}},{"source":"../../../../src/profiling/startProfileForSpan.ts","name":null,"original":{"line":81,"column":83},"generated":{"line":61,"column":109}},{"source":"../../../../src/profiling/startProfileForSpan.ts","name":null,"original":{"line":81,"column":83},"generated":{"line":61,"column":110}},{"source":"../../../../src/profiling/startProfileForSpan.ts","name":null,"original":{"line":82,"column":83},"generated":{"line":62,"column":6}},{"source":"../../../../src/profiling/startProfileForSpan.ts","name":null,"original":{"line":84,"column":83},"generated":{"line":64,"column":6}},{"source":"../../../../src/profiling/startProfileForSpan.ts","name":null,"original":{"line":85,"column":83},"generated":{"line":65,"column":6}},{"source":"../../../../src/profiling/startProfileForSpan.ts","name":null,"original":{"line":85,"column":83},"generated":{"line":65,"column":10}},{"source":"../../../../src/profiling/startProfileForSpan.ts","name":null,"original":{"line":85,"column":83},"generated":{"line":65,"column":11}},{"source":"../../../../src/profiling/startProfileForSpan.ts","name":null,"original":{"line":85,"column":83},"generated":{"line":65,"column":18}},{"source":"../../../../src/profiling/startProfileForSpan.ts","name":null,"original":{"line":85,"column":83},"generated":{"line":65,"column":20}},{"source":"../../../../src/profiling/startProfileForSpan.ts","name":null,"original":{"line":86,"column":83},"generated":{"line":66,"column":8}},{"source":"../../../../src/profiling/startProfileForSpan.ts","name":null,"original":{"line":86,"column":83},"generated":{"line":66,"column":12}},{"source":"../../../../src/profiling/startProfileForSpan.ts","name":null,"original":{"line":86,"column":83},"generated":{"line":66,"column":35}},{"source":"../../../../src/profiling/startProfileForSpan.ts","name":null,"original":{"line":86,"column":83},"generated":{"line":66,"column":37}},{"source":"../../../../src/profiling/startProfileForSpan.ts","name":null,"original":{"line":87,"column":83},"generated":{"line":67,"column":10}},{"source":"../../../../src/profiling/startProfileForSpan.ts","name":null,"original":{"line":87,"column":83},"generated":{"line":67,"column":23}},{"source":"../../../../src/profiling/startProfileForSpan.ts","name":null,"original":{"line":87,"column":83},"generated":{"line":67,"column":24}},{"source":"../../../../src/profiling/startProfileForSpan.ts","name":null,"original":{"line":87,"column":83},"generated":{"line":67,"column":27}},{"source":"../../../../src/profiling/startProfileForSpan.ts","name":null,"original":{"line":88,"column":83},"generated":{"line":67,"column":28}},{"source":"../../../../src/profiling/startProfileForSpan.ts","name":null,"original":{"line":88,"column":83},"generated":{"line":67,"column":79}},{"source":"../../../../src/profiling/startProfileForSpan.ts","name":null,"original":{"line":88,"column":83},"generated":{"line":67,"column":83}},{"source":"../../../../src/profiling/startProfileForSpan.ts","name":null,"original":{"line":88,"column":83},"generated":{"line":67,"column":99}},{"source":"../../../../src/profiling/startProfileForSpan.ts","name":null,"original":{"line":88,"column":83},"generated":{"line":67,"column":101}},{"source":"../../../../src/profiling/startProfileForSpan.ts","name":null,"original":{"line":88,"column":83},"generated":{"line":67,"column":105}},{"source":"../../../../src/profiling/startProfileForSpan.ts","name":null,"original":{"line":88,"column":83},"generated":{"line":67,"column":106}},{"source":"../../../../src/profiling/startProfileForSpan.ts","name":null,"original":{"line":88,"column":83},"generated":{"line":67,"column":107}},{"source":"../../../../src/profiling/startProfileForSpan.ts","name":null,"original":{"line":88,"column":83},"generated":{"line":67,"column":118}},{"source":"../../../../src/profiling/startProfileForSpan.ts","name":null,"original":{"line":88,"column":83},"generated":{"line":67,"column":120}},{"source":"../../../../src/profiling/startProfileForSpan.ts","name":null,"original":{"line":89,"column":83},"generated":{"line":67,"column":122}},{"source":"../../../../src/profiling/startProfileForSpan.ts","name":null,"original":{"line":90,"column":83},"generated":{"line":67,"column":232}},{"source":"../../../../src/profiling/startProfileForSpan.ts","name":null,"original":{"line":90,"column":83},"generated":{"line":67,"column":233}},{"source":"../../../../src/profiling/startProfileForSpan.ts","name":null,"original":{"line":91,"column":83},"generated":{"line":68,"column":8}},{"source":"../../../../src/profiling/startProfileForSpan.ts","name":null,"original":{"line":92,"column":83},"generated":{"line":69,"column":8}},{"source":"../../../../src/profiling/startProfileForSpan.ts","name":null,"original":{"line":93,"column":83},"generated":{"line":70,"column":6}},{"source":"../../../../src/profiling/startProfileForSpan.ts","name":null,"original":{"line":95,"column":83},"generated":{"line":71,"column":6}},{"source":"../../../../src/profiling/startProfileForSpan.ts","name":null,"original":{"line":95,"column":83},"generated":{"line":71,"column":10}},{"source":"../../../../src/profiling/startProfileForSpan.ts","name":null,"original":{"line":95,"column":83},"generated":{"line":71,"column":41}},{"source":"../../../../src/profiling/startProfileForSpan.ts","name":null,"original":{"line":95,"column":83},"generated":{"line":71,"column":43}},{"source":"../../../../src/profiling/startProfileForSpan.ts","name":null,"original":{"line":95,"column":83},"generated":{"line":71,"column":52}},{"source":"../../../../src/profiling/startProfileForSpan.ts","name":null,"original":{"line":95,"column":83},"generated":{"line":71,"column":54}},{"source":"../../../../src/profiling/startProfileForSpan.ts","name":null,"original":{"line":95,"column":83},"generated":{"line":71,"column":61}},{"source":"../../../../src/profiling/startProfileForSpan.ts","name":null,"original":{"line":95,"column":83},"generated":{"line":71,"column":62}},{"source":"../../../../src/profiling/startProfileForSpan.ts","name":null,"original":{"line":96,"column":83},"generated":{"line":72,"column":4}},{"source":"../../../../src/profiling/startProfileForSpan.ts","name":null,"original":{"line":96,"column":83},"generated":{"line":72,"column":5}},{"source":"../../../../src/profiling/startProfileForSpan.ts","name":null,"original":{"line":96,"column":83},"generated":{"line":72,"column":6}},{"source":"../../../../src/profiling/startProfileForSpan.ts","name":null,"original":{"line":97,"column":83},"generated":{"line":72,"column":7}},{"source":"../../../../src/profiling/startProfileForSpan.ts","name":null,"original":{"line":97,"column":83},"generated":{"line":72,"column":12}},{"source":"../../../../src/profiling/startProfileForSpan.ts","name":null,"original":{"line":97,"column":83},"generated":{"line":72,"column":13}},{"source":"../../../../src/profiling/startProfileForSpan.ts","name":null,"original":{"line":97,"column":83},"generated":{"line":72,"column":18}},{"source":"../../../../src/profiling/startProfileForSpan.ts","name":null,"original":{"line":97,"column":83},"generated":{"line":72,"column":22}},{"source":"../../../../src/profiling/startProfileForSpan.ts","name":null,"original":{"line":98,"column":83},"generated":{"line":73,"column":6}},{"source":"../../../../src/profiling/startProfileForSpan.ts","name":null,"original":{"line":98,"column":83},"generated":{"line":73,"column":10}},{"source":"../../../../src/profiling/startProfileForSpan.ts","name":null,"original":{"line":98,"column":83},"generated":{"line":73,"column":33}},{"source":"../../../../src/profiling/startProfileForSpan.ts","name":null,"original":{"line":98,"column":83},"generated":{"line":73,"column":35}},{"source":"../../../../src/profiling/startProfileForSpan.ts","name":null,"original":{"line":99,"column":83},"generated":{"line":74,"column":8}},{"source":"../../../../src/profiling/startProfileForSpan.ts","name":null,"original":{"line":99,"column":83},"generated":{"line":74,"column":21}},{"source":"../../../../src/profiling/startProfileForSpan.ts","name":null,"original":{"line":99,"column":83},"generated":{"line":74,"column":22}},{"source":"../../../../src/profiling/startProfileForSpan.ts","name":null,"original":{"line":99,"column":83},"generated":{"line":74,"column":25}},{"source":"../../../../src/profiling/startProfileForSpan.ts","name":null,"original":{"line":99,"column":83},"generated":{"line":74,"column":26}},{"source":"../../../../src/profiling/startProfileForSpan.ts","name":null,"original":{"line":99,"column":83},"generated":{"line":74,"column":70}},{"source":"../../../../src/profiling/startProfileForSpan.ts","name":null,"original":{"line":99,"column":83},"generated":{"line":74,"column":72}},{"source":"../../../../src/profiling/startProfileForSpan.ts","name":null,"original":{"line":99,"column":83},"generated":{"line":74,"column":77}},{"source":"../../../../src/profiling/startProfileForSpan.ts","name":null,"original":{"line":99,"column":83},"generated":{"line":74,"column":78}},{"source":"../../../../src/profiling/startProfileForSpan.ts","name":null,"original":{"line":100,"column":83},"generated":{"line":75,"column":6}},{"source":"../../../../src/profiling/startProfileForSpan.ts","name":null,"original":{"line":101,"column":83},"generated":{"line":76,"column":4}},{"source":"../../../../src/profiling/startProfileForSpan.ts","name":null,"original":{"line":101,"column":83},"generated":{"line":76,"column":5}},{"source":"../../../../src/profiling/startProfileForSpan.ts","name":null,"original":{"line":101,"column":83},"generated":{"line":76,"column":6}},{"source":"../../../../src/profiling/startProfileForSpan.ts","name":null,"original":{"line":102,"column":83},"generated":{"line":77,"column":2}},{"source":"../../../../src/profiling/startProfileForSpan.ts","name":null,"original":{"line":104,"column":83},"generated":{"line":79,"column":2}},{"source":"../../../../src/profiling/startProfileForSpan.ts","name":null,"original":{"line":105,"column":83},"generated":{"line":80,"column":2}},{"source":"../../../../src/profiling/startProfileForSpan.ts","name":null,"original":{"line":105,"column":83},"generated":{"line":80,"column":6}},{"source":"../../../../src/profiling/startProfileForSpan.ts","name":null,"original":{"line":105,"column":83},"generated":{"line":80,"column":26}},{"source":"../../../../src/profiling/startProfileForSpan.ts","name":null,"original":{"line":105,"column":83},"generated":{"line":80,"column":29}},{"source":"../../../../src/profiling/startProfileForSpan.ts","name":null,"original":{"line":105,"column":83},"generated":{"line":80,"column":44}},{"source":"../../../../src/profiling/startProfileForSpan.ts","name":null,"original":{"line":105,"column":83},"generated":{"line":80,"column":45}},{"source":"../../../../src/profiling/startProfileForSpan.ts","name":null,"original":{"line":105,"column":83},"generated":{"line":80,"column":55}},{"source":"../../../../src/profiling/startProfileForSpan.ts","name":null,"original":{"line":105,"column":83},"generated":{"line":80,"column":56}},{"source":"../../../../src/profiling/startProfileForSpan.ts","name":null,"original":{"line":105,"column":83},"generated":{"line":80,"column":62}},{"source":"../../../../src/profiling/startProfileForSpan.ts","name":null,"original":{"line":106,"column":83},"generated":{"line":81,"column":4}},{"source":"../../../../src/profiling/startProfileForSpan.ts","name":null,"original":{"line":106,"column":83},"generated":{"line":81,"column":8}},{"source":"../../../../src/profiling/startProfileForSpan.ts","name":null,"original":{"line":106,"column":83},"generated":{"line":81,"column":31}},{"source":"../../../../src/profiling/startProfileForSpan.ts","name":null,"original":{"line":106,"column":83},"generated":{"line":81,"column":33}},{"source":"../../../../src/profiling/startProfileForSpan.ts","name":null,"original":{"line":107,"column":83},"generated":{"line":82,"column":6}},{"source":"../../../../src/profiling/startProfileForSpan.ts","name":null,"original":{"line":107,"column":83},"generated":{"line":82,"column":19}},{"source":"../../../../src/profiling/startProfileForSpan.ts","name":null,"original":{"line":107,"column":83},"generated":{"line":82,"column":20}},{"source":"../../../../src/profiling/startProfileForSpan.ts","name":null,"original":{"line":107,"column":83},"generated":{"line":82,"column":23}},{"source":"../../../../src/profiling/startProfileForSpan.ts","name":null,"original":{"line":107,"column":83},"generated":{"line":82,"column":24}},{"source":"../../../../src/profiling/startProfileForSpan.ts","name":null,"original":{"line":107,"column":83},"generated":{"line":82,"column":91}},{"source":"../../../../src/profiling/startProfileForSpan.ts","name":null,"original":{"line":107,"column":83},"generated":{"line":82,"column":93}},{"source":"../../../../src/profiling/startProfileForSpan.ts","name":null,"original":{"line":107,"column":83},"generated":{"line":82,"column":97}},{"source":"../../../../src/profiling/startProfileForSpan.ts","name":null,"original":{"line":107,"column":83},"generated":{"line":82,"column":113}},{"source":"../../../../src/profiling/startProfileForSpan.ts","name":null,"original":{"line":107,"column":83},"generated":{"line":82,"column":115}},{"source":"../../../../src/profiling/startProfileForSpan.ts","name":null,"original":{"line":107,"column":83},"generated":{"line":82,"column":119}},{"source":"../../../../src/profiling/startProfileForSpan.ts","name":null,"original":{"line":107,"column":83},"generated":{"line":82,"column":120}},{"source":"../../../../src/profiling/startProfileForSpan.ts","name":null,"original":{"line":107,"column":83},"generated":{"line":82,"column":121}},{"source":"../../../../src/profiling/startProfileForSpan.ts","name":null,"original":{"line":107,"column":83},"generated":{"line":82,"column":132}},{"source":"../../../../src/profiling/startProfileForSpan.ts","name":null,"original":{"line":107,"column":83},"generated":{"line":82,"column":133}},{"source":"../../../../src/profiling/startProfileForSpan.ts","name":null,"original":{"line":108,"column":83},"generated":{"line":83,"column":4}},{"source":"../../../../src/profiling/startProfileForSpan.ts","name":null,"original":{"line":109,"column":83},"generated":{"line":84,"column":4}},{"source":"../../../../src/profiling/startProfileForSpan.ts","name":null,"original":{"line":110,"column":83},"generated":{"line":85,"column":4}},{"source":"../../../../src/profiling/startProfileForSpan.ts","name":null,"original":{"line":111,"column":83},"generated":{"line":86,"column":4}},{"source":"../../../../src/profiling/startProfileForSpan.ts","name":null,"original":{"line":111,"column":83},"generated":{"line":86,"column":20}},{"source":"../../../../src/profiling/startProfileForSpan.ts","name":null,"original":{"line":111,"column":83},"generated":{"line":86,"column":21}},{"source":"../../../../src/profiling/startProfileForSpan.ts","name":null,"original":{"line":111,"column":83},"generated":{"line":86,"column":22}},{"source":"../../../../src/profiling/startProfileForSpan.ts","name":null,"original":{"line":112,"column":83},"generated":{"line":87,"column":2}},{"source":"../../../../src/profiling/startProfileForSpan.ts","name":null,"original":{"line":112,"column":83},"generated":{"line":87,"column":3}},{"source":"../../../../src/profiling/startProfileForSpan.ts","name":null,"original":{"line":112,"column":83},"generated":{"line":87,"column":5}},{"source":"../../../../src/profiling/startProfileForSpan.ts","name":null,"original":{"line":112,"column":83},"generated":{"line":87,"column":36}},{"source":"../../../../src/profiling/startProfileForSpan.ts","name":null,"original":{"line":112,"column":83},"generated":{"line":87,"column":37}},{"source":"../../../../src/profiling/startProfileForSpan.ts","name":null,"original":{"line":114,"column":83},"generated":{"line":89,"column":2}},{"source":"../../../../src/profiling/startProfileForSpan.ts","name":null,"original":{"line":115,"column":83},"generated":{"line":90,"column":2}},{"source":"../../../../src/profiling/startProfileForSpan.ts","name":null,"original":{"line":115,"column":83},"generated":{"line":90,"column":8}},{"source":"../../../../src/profiling/startProfileForSpan.ts","name":null,"original":{"line":115,"column":83},"generated":{"line":90,"column":19}},{"source":"../../../../src/profiling/startProfileForSpan.ts","name":null,"original":{"line":115,"column":83},"generated":{"line":90,"column":22}},{"source":"../../../../src/profiling/startProfileForSpan.ts","name":null,"original":{"line":115,"column":83},"generated":{"line":90,"column":26}},{"source":"../../../../src/profiling/startProfileForSpan.ts","name":null,"original":{"line":115,"column":83},"generated":{"line":90,"column":27}},{"source":"../../../../src/profiling/startProfileForSpan.ts","name":null,"original":{"line":115,"column":83},"generated":{"line":90,"column":30}},{"source":"../../../../src/profiling/startProfileForSpan.ts","name":null,"original":{"line":115,"column":83},"generated":{"line":90,"column":31}},{"source":"../../../../src/profiling/startProfileForSpan.ts","name":null,"original":{"line":115,"column":83},"generated":{"line":90,"column":35}},{"source":"../../../../src/profiling/startProfileForSpan.ts","name":null,"original":{"line":115,"column":83},"generated":{"line":90,"column":36}},{"source":"../../../../src/profiling/startProfileForSpan.ts","name":null,"original":{"line":115,"column":83},"generated":{"line":90,"column":40}},{"source":"../../../../src/profiling/startProfileForSpan.ts","name":null,"original":{"line":115,"column":83},"generated":{"line":90,"column":41}},{"source":"../../../../src/profiling/startProfileForSpan.ts","name":null,"original":{"line":117,"column":83},"generated":{"line":92,"column":2}},{"source":"../../../../src/profiling/startProfileForSpan.ts","name":null,"original":{"line":118,"column":83},"generated":{"line":93,"column":0}},{"source":"../../../../src/profiling/startProfileForSpan.ts","name":null,"original":{"line":119,"column":83},"generated":{"line":94,"column":0}},{"source":"../../../../src/profiling/startProfileForSpan.ts","name":null,"original":{"line":120,"column":83},"generated":{"line":95,"column":0}},{"source":"../../../../src/profiling/startProfileForSpan.ts","name":null,"original":{"line":121,"column":83},"generated":{"line":96,"column":0}},{"source":"../../../../src/profiling/startProfileForSpan.ts","name":null,"original":{"line":122,"column":83},"generated":{"line":97,"column":2}},{"source":"../../../../src/profiling/startProfileForSpan.ts","name":null,"original":{"line":122,"column":83},"generated":{"line":97,"column":11}},{"source":"../../../../src/profiling/startProfileForSpan.ts","name":null,"original":{"line":122,"column":83},"generated":{"line":97,"column":34}},{"source":"../../../../src/profiling/startProfileForSpan.ts","name":null,"original":{"line":122,"column":83},"generated":{"line":97,"column":35}},{"source":"../../../../src/profiling/startProfileForSpan.ts","name":null,"original":{"line":122,"column":83},"generated":{"line":97,"column":37}},{"source":"../../../../src/profiling/startProfileForSpan.ts","name":null,"original":{"line":123,"column":83},"generated":{"line":98,"column":4}},{"source":"../../../../src/profiling/startProfileForSpan.ts","name":null,"original":{"line":123,"column":83},"generated":{"line":98,"column":8}},{"source":"../../../../src/profiling/startProfileForSpan.ts","name":null,"original":{"line":123,"column":83},"generated":{"line":98,"column":9}},{"source":"../../../../src/profiling/startProfileForSpan.ts","name":null,"original":{"line":123,"column":83},"generated":{"line":98,"column":13}},{"source":"../../../../src/profiling/startProfileForSpan.ts","name":null,"original":{"line":123,"column":83},"generated":{"line":98,"column":15}},{"source":"../../../../src/profiling/startProfileForSpan.ts","name":null,"original":{"line":124,"column":83},"generated":{"line":99,"column":6}},{"source":"../../../../src/profiling/startProfileForSpan.ts","name":null,"original":{"line":124,"column":83},"generated":{"line":99,"column":13}},{"source":"../../../../src/profiling/startProfileForSpan.ts","name":null,"original":{"line":124,"column":83},"generated":{"line":99,"column":24}},{"source":"../../../../src/profiling/startProfileForSpan.ts","name":null,"original":{"line":124,"column":83},"generated":{"line":99,"column":25}},{"source":"../../../../src/profiling/startProfileForSpan.ts","name":null,"original":{"line":124,"column":83},"generated":{"line":99,"column":26}},{"source":"../../../../src/profiling/startProfileForSpan.ts","name":null,"original":{"line":125,"column":83},"generated":{"line":100,"column":4}},{"source":"../../../../src/profiling/startProfileForSpan.ts","name":null,"original":{"line":126,"column":83},"generated":{"line":101,"column":4}},{"source":"../../../../src/profiling/startProfileForSpan.ts","name":null,"original":{"line":127,"column":83},"generated":{"line":102,"column":4}},{"source":"../../../../src/profiling/startProfileForSpan.ts","name":null,"original":{"line":128,"column":83},"generated":{"line":103,"column":4}},{"source":"../../../../src/profiling/startProfileForSpan.ts","name":null,"original":{"line":128,"column":83},"generated":{"line":103,"column":9}},{"source":"../../../../src/profiling/startProfileForSpan.ts","name":null,"original":{"line":128,"column":83},"generated":{"line":103,"column":25}},{"source":"../../../../src/profiling/startProfileForSpan.ts","name":null,"original":{"line":128,"column":83},"generated":{"line":103,"column":26}},{"source":"../../../../src/profiling/startProfileForSpan.ts","name":null,"original":{"line":128,"column":83},"generated":{"line":103,"column":27}},{"source":"../../../../src/profiling/startProfileForSpan.ts","name":null,"original":{"line":128,"column":83},"generated":{"line":103,"column":28}},{"source":"../../../../src/profiling/startProfileForSpan.ts","name":null,"original":{"line":128,"column":83},"generated":{"line":103,"column":32}},{"source":"../../../../src/profiling/startProfileForSpan.ts","name":null,"original":{"line":129,"column":83},"generated":{"line":103,"column":33}},{"source":"../../../../src/profiling/startProfileForSpan.ts","name":null,"original":{"line":129,"column":83},"generated":{"line":103,"column":39}},{"source":"../../../../src/profiling/startProfileForSpan.ts","name":null,"original":{"line":130,"column":83},"generated":{"line":104,"column":6}},{"source":"../../../../src/profiling/startProfileForSpan.ts","name":null,"original":{"line":130,"column":83},"generated":{"line":104,"column":17}},{"source":"../../../../src/profiling/startProfileForSpan.ts","name":null,"original":{"line":130,"column":83},"generated":{"line":104,"column":18}},{"source":"../../../../src/profiling/startProfileForSpan.ts","name":null,"original":{"line":130,"column":83},"generated":{"line":104,"column":19}},{"source":"../../../../src/profiling/startProfileForSpan.ts","name":null,"original":{"line":131,"column":83},"generated":{"line":105,"column":4}},{"source":"../../../../src/profiling/startProfileForSpan.ts","name":null,"original":{"line":131,"column":83},"generated":{"line":105,"column":5}},{"source":"../../../../src/profiling/startProfileForSpan.ts","name":null,"original":{"line":132,"column":83},"generated":{"line":105,"column":7}},{"source":"../../../../src/profiling/startProfileForSpan.ts","name":null,"original":{"line":132,"column":83},"generated":{"line":105,"column":13}},{"source":"../../../../src/profiling/startProfileForSpan.ts","name":null,"original":{"line":133,"column":83},"generated":{"line":106,"column":6}},{"source":"../../../../src/profiling/startProfileForSpan.ts","name":null,"original":{"line":134,"column":83},"generated":{"line":107,"column":6}},{"source":"../../../../src/profiling/startProfileForSpan.ts","name":null,"original":{"line":134,"column":83},"generated":{"line":107,"column":17}},{"source":"../../../../src/profiling/startProfileForSpan.ts","name":null,"original":{"line":134,"column":83},"generated":{"line":107,"column":18}},{"source":"../../../../src/profiling/startProfileForSpan.ts","name":null,"original":{"line":134,"column":83},"generated":{"line":107,"column":19}},{"source":"../../../../src/profiling/startProfileForSpan.ts","name":null,"original":{"line":135,"column":83},"generated":{"line":108,"column":4}},{"source":"../../../../src/profiling/startProfileForSpan.ts","name":null,"original":{"line":136,"column":83},"generated":{"line":108,"column":5}},{"source":"../../../../src/profiling/startProfileForSpan.ts","name":null,"original":{"line":136,"column":83},"generated":{"line":108,"column":6}},{"source":"../../../../src/profiling/startProfileForSpan.ts","name":null,"original":{"line":138,"column":83},"generated":{"line":109,"column":4}},{"source":"../../../../src/profiling/startProfileForSpan.ts","name":null,"original":{"line":138,"column":83},"generated":{"line":109,"column":11}},{"source":"../../../../src/profiling/startProfileForSpan.ts","name":null,"original":{"line":138,"column":83},"generated":{"line":109,"column":15}},{"source":"../../../../src/profiling/startProfileForSpan.ts","name":null,"original":{"line":139,"column":83},"generated":{"line":110,"column":2}},{"source":"../../../../src/profiling/startProfileForSpan.ts","name":null,"original":{"line":141,"column":83},"generated":{"line":111,"column":2}},{"source":"../../../../src/profiling/startProfileForSpan.ts","name":null,"original":{"line":141,"column":83},"generated":{"line":111,"column":6}},{"source":"../../../../src/profiling/startProfileForSpan.ts","name":null,"original":{"line":141,"column":83},"generated":{"line":111,"column":7}},{"source":"../../../../src/profiling/startProfileForSpan.ts","name":null,"original":{"line":141,"column":83},"generated":{"line":111,"column":10}},{"source":"../../../../src/profiling/startProfileForSpan.ts","name":null,"original":{"line":141,"column":83},"generated":{"line":111,"column":13}},{"source":"../../../../src/profiling/startProfileForSpan.ts","name":null,"original":{"line":141,"column":83},"generated":{"line":111,"column":36}},{"source":"../../../../src/profiling/startProfileForSpan.ts","name":null,"original":{"line":142,"column":83},"generated":{"line":112,"column":0}}],"sources":{"../../../../src/profiling/startProfileForSpan.ts":"import { getCurrentScope, spanToJSON } from '@sentry/core';\nimport type { Span } from '@sentry/types';\nimport { logger, timestampInSeconds, uuid4 } from '@sentry/utils';\n\nimport { DEBUG_BUILD } from '../debug-build';\nimport { WINDOW } from '../helpers';\nimport type { JSSelfProfile } from './jsSelfProfiling';\nimport { MAX_PROFILE_DURATION_MS, addProfileToGlobalCache, isAutomatedPageLoadSpan, startJSSelfProfile } from './utils';\n\n/**\n * Wraps startTransaction and stopTransaction with profiling related logic.\n * startProfileForTransaction is called after the call to startTransaction in order to avoid our own code from\n * being profiled. Because of that same reason, stopProfiling is called before the call to stopTransaction.\n */\nexport function startProfileForSpan(span: Span): void {\n  // Start the profiler and get the profiler instance.\n  let startTimestamp: number | undefined;\n  if (isAutomatedPageLoadSpan(span)) {\n    startTimestamp = timestampInSeconds() * 1000;\n  }\n\n  const profiler = startJSSelfProfile();\n\n  // We failed to construct the profiler, so we skip.\n  // No need to log anything as this has already been logged in startProfile.\n  if (!profiler) {\n    return;\n  }\n\n  if (DEBUG_BUILD) {\n    logger.log(`[Profiling] started profiling span: ${spanToJSON(span).description}`);\n  }\n\n  // We create \"unique\" span names to avoid concurrent spans with same names\n  // from being ignored by the profiler. From here on, only this span name should be used when\n  // calling the profiler methods. Note: we log the original name to the user to avoid confusion.\n  const profileId = uuid4();\n\n  // A couple of important things to note here:\n  // `CpuProfilerBindings.stopProfiling` will be scheduled to run in 30seconds in order to exceed max profile duration.\n  // Whichever of the two (span.finish/timeout) is first to run, the profiling will be stopped and the gathered profile\n  // will be processed when the original span is finished. Since onProfileHandler can be invoked multiple times in the\n  // event of an error or user mistake (calling span.finish multiple times), it is important that the behavior of onProfileHandler\n  // is idempotent as we do not want any timings or profiles to be overriden by the last call to onProfileHandler.\n  // After the original finish method is called, the event will be reported through the integration and delegated to transport.\n  const processedProfile: JSSelfProfile | null = null;\n\n  getCurrentScope().setContext('profile', {\n    profile_id: profileId,\n    start_timestamp: startTimestamp,\n  });\n\n  /**\n   * Idempotent handler for profile stop\n   */\n  async function onProfileHandler(): Promise<void> {\n    // Check if the profile exists and return it the behavior has to be idempotent as users may call span.finish multiple times.\n    if (!span) {\n      return;\n    }\n    // Satisfy the type checker, but profiler will always be defined here.\n    if (!profiler) {\n      return;\n    }\n    if (processedProfile) {\n      if (DEBUG_BUILD) {\n        logger.log('[Profiling] profile for:', spanToJSON(span).description, 'already exists, returning early');\n      }\n      return;\n    }\n\n    return profiler\n      .stop()\n      .then((profile: JSSelfProfile): void => {\n        if (maxDurationTimeoutID) {\n          WINDOW.clearTimeout(maxDurationTimeoutID);\n          maxDurationTimeoutID = undefined;\n        }\n\n        if (DEBUG_BUILD) {\n          logger.log(`[Profiling] stopped profiling of span: ${spanToJSON(span).description}`);\n        }\n\n        // In case of an overlapping span, stopProfiling may return null and silently ignore the overlapping profile.\n        if (!profile) {\n          if (DEBUG_BUILD) {\n            logger.log(\n              `[Profiling] profiler returned null profile for: ${spanToJSON(span).description}`,\n              'this may indicate an overlapping span or a call to stopProfiling with a profile title that was never started',\n            );\n          }\n          return;\n        }\n\n        addProfileToGlobalCache(profileId, profile);\n      })\n      .catch(error => {\n        if (DEBUG_BUILD) {\n          logger.log('[Profiling] error while stopping profiler:', error);\n        }\n      });\n  }\n\n  // Enqueue a timeout to prevent profiles from running over max duration.\n  let maxDurationTimeoutID: number | undefined = WINDOW.setTimeout(() => {\n    if (DEBUG_BUILD) {\n      logger.log('[Profiling] max profile duration elapsed, stopping profiling for:', spanToJSON(span).description);\n    }\n    // If the timeout exceeds, we want to stop profiling, but not finish the span\n    // eslint-disable-next-line @typescript-eslint/no-floating-promises\n    onProfileHandler();\n  }, MAX_PROFILE_DURATION_MS);\n\n  // We need to reference the original end call to avoid creating an infinite loop\n  const originalEnd = span.end.bind(span);\n\n  /**\n   * Wraps span `end()` with profiling related logic.\n   * startProfiling is called after the call to spanStart in order to avoid our own code from\n   * being profiled. Because of that same reason, stopProfiling is called before the call to spanEnd.\n   */\n  function profilingWrappedSpanEnd(): Span {\n    if (!span) {\n      return originalEnd();\n    }\n    // onProfileHandler should always return the same profile even if this is called multiple times.\n    // Always call onProfileHandler to ensure stopProfiling is called and the timeout is cleared.\n    void onProfileHandler().then(\n      () => {\n        originalEnd();\n      },\n      () => {\n        // If onProfileHandler fails, we still want to call the original finish method.\n        originalEnd();\n      },\n    );\n\n    return span;\n  }\n\n  span.end = profilingWrappedSpanEnd;\n}\n"},"lineCount":null}},"error":null,"hash":"07c9238928800b3a2e34ddba542d7260","cacheData":{"env":{}}}